@model HrModell.salary_standardModel
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Upd</title>
    <link href="~/css/table.css" rel="stylesheet" />
    <script src="~/javaScript/comm/comm.js"></script>
    <script src="~/javaScript/jquery.validate.js"></script>
    <script src="~/javaScript/jquery.validate.unobtrusive.js"></script>
    <script src="~/javaScript/jquery.unobtrusive-ajax.js"></script>
</head>
<body>
    <div id="div11">

        @using (Ajax.BeginForm("Upd2", "Update", new AjaxOptions() { HttpMethod = "Post" }))
        {

            <input type="hidden" name="standard.ssdId" value="1259">

            <table width="100%">
                <tr>
                    <td>
                        <font color="#0000CC">您正在做的业务是:人力资源管理--薪酬标准管理--薪酬标准登记变更</font>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div align="right">
                            <input type="submit" value="提交修改" class="BUTTON_STYLE1" id="tj">
                            <input type="button" value="返回" onclick="history.back();" class="BUTTON_STYLE1">
                        </div>
                    </td>
                </tr>
            </table>

            <table width="100%" border="1" cellpadding=0 cellspacing=1
                   bordercolorlight='#848284' bordercolordark='#eeeeee'
                   class="TABLE_STYLE1">
                <tr>
                    <td width="12%" class="TD_STYLE1">
                        薪酬编号
                    </td>
                    <td width="15%" class="TD_STYLE2">
                        @Html.TextBoxFor(e => e.standard_id, new { @class = "form-control", placeholder = "", @readonly = "readonly" })
                    </td>
                    <td width="12%" class="TD_STYLE1">
                        薪酬标准名称
                    </td>
                    <td width="11%" class="TD_STYLE2">
                        @Html.TextBoxFor(e => e.standard_name, new { @class = "form-control", placeholder = "", @readonly = "readonly" })

                    </td>
                    <td width="11%" class="TD_STYLE1">
                        薪酬总额
                    </td>
                    <td width="17%" class="TD_STYLE2">
                        @Html.TextBoxFor(e => e.salary_sum, new { @class = "form-control", placeholder = "", @readonly = "readonly" })
                    </td>
                    <td width="12%" class="TD_STYLE1">
                        &nbsp;
                    </td>
                    <td width="10%" class="TD_STYLE2">
                        &nbsp;
                    </td>
                </tr>
                <tr>
                    <td class="TD_STYLE1">
                        制定人
                    </td>
                    <td class="TD_STYLE2">
                        @Html.TextBoxFor(e => e.designer, new { @class = "form-control", placeholder = "", @readonly = "readonly" })

                    </td>
                    <td class="TD_STYLE1">
                        复核人
                    </td>
                    <td class="TD_STYLE2">
                        @Html.TextBoxFor(e => e.checker, new { @class = "form-control", placeholder = "", Value = "阳旭明" })
                    </td>
                    <td class="TD_STYLE1">
                        变更时间
                    </td>
                    <td class="TD_STYLE2">
                        @Html.TextBoxFor(e => e.change_time, new { @class = "form-control", placeholder = "", Value = "" })
                    </td>
                    <td class="TD_STYLE1">
                        &nbsp;
                    </td>
                    <td class="TD_STYLE2">
                        &nbsp;
                    </td>
                </tr>
                <tr>
                    <td class="TD_STYLE1">
                        复核意见
                    </td>
                    <td colspan="7" class="TD_STYLE2">
                        @Html.TextAreaFor(e => e.check_comment, new { @class = "form-control", placeholder = "", })
                        @Html.ValidationMessageFor(e => e.check_comment)
                    </td>
                </tr>
                <tr>
                    <td class="TD_STYLE1">
                        序号
                    </td>
                    <td colspan="3" class="TD_STYLE1">
                        薪酬项目名称
                    </td>
                    <td colspan="4" class="TD_STYLE1">
                        金额
                    </td>
                </tr>
                <tr class="TD_STYLE2">
                    <td align="center">
                        <input type="hidden" name="details[0].sdtId" value="1260" />
                        <input type="hidden" name="details[0].itemId" value="1" />
                        1
                    </td>
                    <td colspan="3">
                        <input type="hidden" name="details[0].standardId" value="1353320184280" />
                        <input type="hidden" name="details[0].standardName" value="薪酬标准3" />
                        <input type="hidden" name="details[0].itemName" value="基本工资" />
                        基本工资
                    </td>
                    <td>
                        @Html.TextBoxFor(e => e.money1, new { @class = "form-control INPUT_STYLE2",onkeyup="countMoney('5','money1')", placeholder = "" })

                    </td>
                    <td colspan="3">
                        &nbsp;
                    </td>
                </tr>
                <tr class="TD_STYLE2">
                    <td align="center">
                        <input type="hidden" name="details[1].sdtId" value="1261" />
                        <input type="hidden" name="details[1].itemId" value="2" />
                        2
                    </td>
                    <td colspan="3">
                        <input type="hidden" name="details[1].standardId" value="1353320184280" />
                        <input type="hidden" name="details[1].standardName" value="薪酬标准3" />
                        <input type="hidden" name="details[1].itemName" value="岗位工资" />
                        岗位工资
                    </td>
                    <td>
                        @Html.TextBoxFor(e => e.money2, new { @class = "form-control INPUT_STYLE2" ,onkeyup="countMoney('5','money2')", placeholder = "" })
                    </td>
                    <td colspan="3">
                        &nbsp;
                    </td>
                </tr>
                <tr class="TD_STYLE2">
                    <td align="center">
                        <input type="hidden" name="details[2].sdtId" value="1262" />
                        <input type="hidden" name="details[2].itemId" value="3" />
                        3
                    </td>
                    <td colspan="3">
                        <input type="hidden" name="details[2].standardId" value="1353320184280" />
                        <input type="hidden" name="details[2].standardName" value="薪酬标准3" />
                        <input type="hidden" name="details[2].itemName" value="交通补贴" />
                        交通补贴
                    </td>
                    <td>
                        @Html.TextBoxFor(e => e.money3, new { @class = "form-control INPUT_STYLE2",onkeyup="countMoney('5','money3')", placeholder = "" })
                    </td>
                    <td colspan="3">
                        &nbsp;
                    </td>
                </tr>
                <tr class="TD_STYLE2">
                    <td align="center">
                        <input type="hidden" name="details[2].sdtId" value="1262" />
                        <input type="hidden" name="details[2].itemId" value="3" />
                        4
                    </td>
                    <td colspan="3">
                        <input type="hidden" name="details[2].standardId" value="1353320184280" />
                        <input type="hidden" name="details[2].standardName" value="薪酬标准3" />
                        <input type="hidden" name="details[2].itemName" value="午餐补贴" />
                        午餐补贴
                    </td>
                    <td>
                        @Html.TextBoxFor(e => e.money4, new { @class = "form-control INPUT_STYLE2", onkeyup = "countMoney('5','money4')", placeholder = "" })
                        @Html.HiddenFor(e => e.ssd_id)
                        @Html.HiddenFor(e => e.register)
                        @Html.HiddenFor(e => e.remark)
                        @Html.HiddenFor(e => e.regist_time)
                        @Html.HiddenFor(e => e.check_time)
                    </td>
                    <td colspan="3">
                        &nbsp;
                    </td>
                </tr>
                <tr class="TD_STYLE2">
                    <td align="center">
                        <input type="hidden" name="details[2].sdtId" value="1262" />
                        <input type="hidden" name="details[2].itemId" value="3" />
                        5
                    </td>
                    <td colspan="3">
                        <input type="hidden" name="details[2].standardId" value="1353320184280" />
                        <input type="hidden" name="details[2].standardName" value="薪酬标准3" />
                        <input type="hidden" name="details[2].itemName" value="五险一金" />
                        五险一金
                    </td>
                    <td>
                        @Html.TextBoxFor(e => e.money5, new { @class = "form-control INPUT_STYLE2",onkeyup="countMoney('5','money5')", placeholder = "" })
                    </td>
                    <td colspan="3">
                        &nbsp;
                    </td>
                </tr>
            </table>
        }
    </div>
    <script type="text/javascript">
        function countMoney(obj, o) {
           
		if (isNaN(document.getElementById(o).value) || document.getElementById(o).value < 0) {
		alert("金额填写错误!");
		document.getElementById(o).value="0.00";
		return;
	}
		var sum=0;
	 	for(var i=1;i<=obj;i++){
	 		var salary=document.getElementById("money"+i).value;
	 		if(salary==""){
	 		salary="0.00";
	 		}
	 		sum=Number(sum)+Number(salary);
	 		 
	 }
	 document.getElementById("salary_sum").value=sum;
	 
}

        function time() {
            var tdate = document.getElementById("change_time");
            var d = new Date();
            var y = d.getFullYear();
            var moth = d.getMonth() + 1;
            var date = d.getDate();
            var h = d.getHours();
            var m = d.getMinutes();
            var s = d.getSeconds();
            var hh = 20 - 1 - h;
            var mm = 60 - 1 - m;
            var ss = 60 - s;
            if (hh > 0) {
                mm = mm + 60 * hh;
            }
            if (moth < 10) {
                moth = "0" + moth;
            }
            if (date < 10) {
                date = "0" + date;
            }
            if (h < 10) {
                h = "0" + h;
            }
            if (m < 10) {
                m = "0" + m;
            }
            if (s < 10) {
                s = "0" + s;
            }
            if (mm < 10) {
                mm = "0" + mm;
            }
            if (ss < 10) {
                ss = "0" + ss;
            }

            tdate.value = y + "-" + moth + "-" + date + " " + h + ":" + m + ":" + s;

        }
        window.onload = time;
        var out = window.setInterval(time, 1000);
            //$("#check_comment").click(function () {
            //    alert(1);
            //    if ($("#check_comment").val() == "") {
            //         alert("请填写完整再提交");
            //}
            //}


    </script>
</body>
</html>
